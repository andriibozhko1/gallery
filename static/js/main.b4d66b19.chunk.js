(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(38)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),c=a.n(s),o=a(10),i=a.n(o),l=a(11),u=a(3),m=a(4),p=a(6),g=a(5),h=a(7),d=(a(26),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).getCurrentPage=function(e){return function(){return a.props.selectPage(e)}},a.changePages=function(e){return function(){var t=Math.max(1,Math.min(a.paginationBtns.length,e));a.props.selectPage(t)}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Pagination"},r.a.createElement("button",{className:"Pagination__btns",onClick:this.changePages(this.props.currentPage-1)},"Prev"),this.props.currentPage>5?"...":"",this.paginationBtns.map(function(t){return r.a.createElement("button",{className:"Pagination__btns ".concat(t===e.props.currentPage?"Pagination__btns--active":""),key:t,onClick:e.getCurrentPage(t)},t)}),this.paginationBtns.length>5?"...":"",r.a.createElement("button",{className:"Pagination__btns",onClick:this.changePages(this.props.currentPage+1)},"Next"))}},{key:"paginationBtns",get:function(){if(this.props.visibleItems.length>0){for(var e=this.props.generalQuantityItems/this.props.visibleItems.length,t=[],a=Math.max(1,this.props.currentPage-5),n=Math.min(e,this.props.currentPage+5),r=a;r<=n;r++)t.push(r);return t}return[]}}]),t}(n.Component)),f=function(e){var t=e.album,a=t.id,n=t.title;return r.a.createElement("div",{className:"AlbumsList__album-card"},r.a.createElement("div",{className:"AlbumsList__content"},r.a.createElement("div",{className:"AlbumsList__id"},"Album #: ",a),r.a.createElement("br",null),r.a.createElement("div",{className:"AlbumsList__album-card-title"}," ",n)))},b=r.a.createContext(),v=a(39),y=(a(27),a(28),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"cube-loader"},r.a.createElement("div",{className:"caption"},r.a.createElement("div",{className:"cube-loader"},r.a.createElement("div",{className:"cube loader-1"}),r.a.createElement("div",{className:"cube loader-2"}),r.a.createElement("div",{className:"cube loader-4"}),r.a.createElement("div",{className:"cube loader-3"})))))}),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,quantityItemsOnPage:20,visibleAlbums:[]},a.albums=[],a.selectPage=function(e){a.setState({currentPage:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return window.scrollTo(0,0),r.a.createElement(b.Consumer,null,function(t){return e.albums=t.albums,t.isLoading?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"AlbumsList"},r.a.createElement("ul",{className:"AlbumsList__list"},e.visibleAlbums.map(function(e){return r.a.createElement(v.a,{key:e.id,to:"albums/".concat(e.id)},r.a.createElement("li",{className:"AlbumsList__item"},r.a.createElement(f,{album:e})))}))),r.a.createElement(d,{currentPage:e.state.currentPage,visibleItems:e.visibleAlbums,generalQuantityItems:t.albums.length,selectPage:e.selectPage}))})}},{key:"visibleAlbums",get:function(){var e=(this.state.currentPage-1)*this.state.quantityItemsOnPage,t=e+this.state.quantityItemsOnPage;return this.albums.slice(e,t)}}]),t}(n.Component),P=(a(31),function(e){return r.a.createElement(b.Consumer,null,function(t){var a=t.tags;return r.a.createElement("div",{hidden:!e.dropDownIsOpen,className:"TagsDropDown"},r.a.createElement("ul",{className:"TagsDropDown__list"},a.map(function(t){return r.a.createElement("div",{key:t,onClick:e.getTag(t),className:"TagsDropDown__item"},t)})))})}),_=a(16),O=a.n(_),N=(a(33),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={dropDownIsOpen:!1},a.togglerDropDown=function(){a.setState(function(e){e.dropDownIsOpen;return{dropDownIsOpen:!a.state.dropDownIsOpen}})},a.getTag=function(e){return function(){var t=a.props.photoData.id;a.updateData({id:t,tag:e,color:O()()}),a.togglerDropDown()}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.photoData,a=t.url,n=t.title;return r.a.createElement(b.Consumer,null,function(t){return e.updateData=t.updateData,r.a.createElement("div",null,r.a.createElement("div",{className:"PhotoCard"},r.a.createElement("div",{className:"PhotoCard__img-block"},r.a.createElement("img",{className:"PhotoCard__img",src:a,alt:n})),r.a.createElement("div",{className:"PhotoCard__title"},n),r.a.createElement("div",{className:"PhotoCard__tags-btn",onClick:e.togglerDropDown},"Add TAG"),r.a.createElement("div",{className:"PhotoCard__tags-container"},r.a.createElement("ul",{className:"PhotoCard__tags-container-list"},e.props.photoData.tags.map(function(e){return r.a.createElement("li",{key:e.color,className:"PhotoCard__tags-container-item",style:{backgroundColor:e.color}},r.a.createElement("div",{className:"PhotoCard__tags-container-item-dot"}),e.tag)}))),r.a.createElement(P,{dropDownIsOpen:e.state.dropDownIsOpen,getTag:e.getTag})))})}}]),t}(n.Component)),j=(a(34),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",filterByTag:null},a.changeQuery=function(){return function(e){a.setState({query:e.target.value})}},a.sendQuery=function(){return function(e){"Enter"===e.key&&a.props.setFilterQuery(a.state.query)}},a.changeTagFilter=function(){return function(e){console.log(e.target),a.setState({filterByTag:e.target.value},function(){return a.props.setFilterTag(a.state.filterByTag)})}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b.Consumer,null,function(t){var a=t.tags;return r.a.createElement("div",{className:"Header"},r.a.createElement("label",{className:"Header__title"},"Search:",r.a.createElement("input",{className:"Header__field",value:e.state.query,onChange:e.changeQuery(),onKeyPress:e.sendQuery(),placeholder:"Search something...",type:"text"})),r.a.createElement("span",{className:"Header__title"},"Sort By:"),r.a.createElement("select",{className:"Header__drop-down",onChange:e.changeTagFilter()},r.a.createElement("option",{value:"null"},"Reset"),a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))})}}]),t}(n.Component)),w=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,quantityItemsOnPage:10,filteredByTagName:null,query:""},a.photo=[],a.setFilterTag=function(e){"null"!==e?a.setState({filteredByTagName:e}):a.setState({filteredByTagName:null})},a.setFilterQuery=function(e){a.setState({query:e})},a.selectPage=function(e){a.setState({currentPage:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b.Consumer,null,function(t){return e.photo=t.photo,t.isLoading?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/"},r.a.createElement("div",{className:"PhotoList__btn-back"},"Home")),r.a.createElement(j,{setFilterTag:e.setFilterTag,setFilterQuery:e.setFilterQuery}),r.a.createElement("div",{className:"PhotoList"},r.a.createElement("ul",{className:"PhotoList__list"},e.visiblePhoto.map(function(e){return r.a.createElement("li",{key:e.id,className:"PhotoList__item"},r.a.createElement(N,{photoData:e}))}))),r.a.createElement(d,{currentPage:e.state.currentPage,visibleItems:e.visiblePhoto,generalQuantityItems:e.filteredPhoto.length,selectPage:e.selectPage}))})}},{key:"filteredPhoto",get:function(){var e=this,t=this.photo.filter(function(t){return t.albumId===+e.props.match.params.id?t:null});return this.state.filteredByTagName&&(t=t.filter(function(t){if(t.tags.length>0)return t.tags.find(function(t){if(t.tag===e.state.filteredByTagName)return t})})),t=t.filter(function(t){if(t.title.toLowerCase().includes(e.state.query.toLowerCase()))return t})}},{key:"visiblePhoto",get:function(){var e=(this.state.currentPage-1)*this.state.quantityItemsOnPage,t=e+this.state.quantityItemsOnPage,a=this.filteredPhoto.slice(e,t);return window.scrollTo(0,0),a}}]),t}(n.Component)),C=a(40),k={getAlbums:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/albums");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getPhoto:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/photos");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},D=(a(36),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={albums:[],photo:[],tags:["Frontend","Backend","Javascript","React","Node.js","PHP","C#","Vue","Angular"],filteredPhoto:null,isLoading:!0},a.updateData=function(e){a.setState(function(t){var a=t.photo;return a[e.id-1].tags.push(e),{photo:a}})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAlbums();case 2:return t=e.sent,e.next=5,k.getPhoto();case 5:(a=e.sent).map(function(e){return e.tags=[]}),this.setState({albums:t,photo:a,isLoading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.Provider,{value:{tags:this.state.tags,albums:this.state.albums,photo:this.state.photo,updateData:this.updateData,isLoading:this.state.isLoading}},r.a.createElement(C.a,{exact:!0,path:"/",component:E}),r.a.createElement(C.a,{path:"/albums/:id",component:w})))}}]),t}(n.Component)),T=a(41);c.a.render(r.a.createElement(T.a,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.b4d66b19.chunk.js.map