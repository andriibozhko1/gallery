(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,a){t.exports=a(38)},27:function(t,e,a){},28:function(t,e,a){},31:function(t,e,a){},33:function(t,e,a){},34:function(t,e,a){},35:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),o=a(13),c=a.n(o),l=a(16),u=a(3),m=a(4),h=a(6),p=a(5),g=a(7),f=(a(27),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).getCurrentPage=function(t){return function(){return a.props.selectPage(t)}},a.changePages=function(t){return function(){var e=Math.max(1,Math.min(a.paginationBtns.length,t));a.props.selectPage(e)}},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"Pagination"},r.a.createElement("button",{className:"Pagination__btns",onClick:this.changePages(this.props.currentPage-1)},"Prev"),this.props.currentPage>5?"...":"",this.paginationBtns.map(function(e){return r.a.createElement("button",{className:"Pagination__btns ".concat(e===t.props.currentPage?"Pagination__btns--active":""),key:e,onClick:t.getCurrentPage(e)},e)}),this.paginationBtns.length>5?"...":"",r.a.createElement("button",{className:"Pagination__btns",onClick:this.changePages(this.props.currentPage+1)},"Next"))}},{key:"paginationBtns",get:function(){if(this.props.visibleItems.length>0){for(var t=this.props.generalQuantityItems/this.props.visibleItems.length,e=[],a=Math.max(1,this.props.currentPage-5),n=Math.min(t,this.props.currentPage+5),r=a;r<=n;r++)e.push(r);return e}return[]}}]),e}(n.Component));function d(t){var e=t.album,a=e.id,n=e.title;return r.a.createElement("div",{className:"AlbumsList__album-card"},r.a.createElement("div",{className:"AlbumsList__content"},r.a.createElement("div",{className:"AlbumsList__id"},"Album #: ",a),r.a.createElement("br",null),r.a.createElement("div",{className:"AlbumsList__album-card-tittle"}," ",n)))}var b=a(39),v=(a(28),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={currentPage:1,quantityItemsOnPage:20,visibleAlbums:[]},a.selectPage=function(t){a.setState({currentPage:t})},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return window.scrollTo(0,0),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"AlbumsList"},r.a.createElement("ul",{className:"AlbumsList__list"},this.visibleAlbums.map(function(t){return r.a.createElement(b.a,{key:t.id,to:"albums/".concat(t.id)},r.a.createElement("li",{className:"AlbumsList__item"},r.a.createElement(d,{album:t})))}))),r.a.createElement(f,{currentPage:this.state.currentPage,visibleItems:this.visibleAlbums,generalQuantityItems:this.props.albums.length,selectPage:this.selectPage}))}},{key:"visibleAlbums",get:function(){var t=(this.state.currentPage-1)*this.state.quantityItemsOnPage,e=t+this.state.quantityItemsOnPage;return this.props.albums.slice(t,e)}}]),e}(n.Component)),y=(a(31),function(t){function e(){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{hidden:!this.props.dropDownIsOpen,className:"TagsDropDown"},r.a.createElement("ul",{className:"TagsDropDown__list"},this.props.tags.map(function(e){return r.a.createElement("div",{key:e,onClick:t.props.getTag(e),className:"TagsDropDown__item"},e)})))}}]),e}(n.Component)),P=a(17),E=a.n(P),O=(a(33),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={dropDownIsOpen:!1},a.togglerDropDown=function(){a.setState(function(t){t.dropDownIsOpen;return{dropDownIsOpen:!a.state.dropDownIsOpen}})},a.getTag=function(t){return function(){var e=a.props.photoData.id;a.props.updateData({id:e,tag:t,color:E()()}),a.togglerDropDown()}},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props.photoData,e=t.url,a=t.title;return window.scrollTo(0,0),r.a.createElement("div",null,r.a.createElement("div",{className:"PhotoCard"},r.a.createElement("div",{className:"PhotoCard__img-block"},r.a.createElement("img",{className:"PhotoCard__img",src:e,alt:a})),r.a.createElement("div",{className:"PhotoCard__title"},a),r.a.createElement("div",{className:"PhotoCard__tags-btn",onClick:this.togglerDropDown},"Add TAG"),r.a.createElement("div",{className:"PhotoCard__tags-container"},r.a.createElement("ul",{className:"PhotoCard__tags-container-list"},this.props.photoData.tags.map(function(t){return r.a.createElement("li",{key:t.color,className:"PhotoCard__tags-container-item",style:{backgroundColor:t.color}},r.a.createElement("div",{className:"PhotoCard__tags-container-item-dot"}),t.tag)}))),r.a.createElement(y,{tags:this.props.tags,dropDownIsOpen:this.state.dropDownIsOpen,getTag:this.getTag})))}}]),e}(n.Component)),_=(a(34),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={query:"",filterByTag:null},a.changeQuery=function(){return function(t){a.setState({query:t.target.value})}},a.sendQuery=function(){return function(t){"Enter"===t.key&&a.props.setFilterQuery(a.state.query)}},a.changeTagFilter=function(){return function(t){console.log(t.target),a.setState({filterByTag:t.target.value},function(){return a.props.setFilterTag(a.state.filterByTag)})}},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("input",{className:"Header__field",value:this.state.query,onChange:this.changeQuery(),onKeyPress:this.sendQuery(),type:"text"}),r.a.createElement("select",{onChange:this.changeTagFilter()},r.a.createElement("option",{value:"null"},"Reset"),this.props.tags.map(function(t){return r.a.createElement("option",{key:t,value:t},t)})))}}]),e}(n.Component)),j=(a(35),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={currentPage:1,quantityItemsOnPage:10,filteredByTagName:null,query:""},a.setFilterTag=function(t){"null"!==t?a.setState({filteredByTagName:t}):a.setState({filteredByTagName:null})},a.setFilterQuery=function(t){console.log(t),a.setState({query:t})},a.selectPage=function(t){a.setState({currentPage:t})},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{to:"/"},r.a.createElement("div",{className:"PhotoList__btn-back"},"BACK")),r.a.createElement(_,{tags:this.props.tags,setFilterTag:this.setFilterTag,setFilterQuery:this.setFilterQuery}),r.a.createElement("div",{className:"PhotoList"},r.a.createElement("ul",{className:"PhotoList__list"},this.visiblePhoto.map(function(e){return r.a.createElement("li",{key:e.id,className:"PhotoList__item"},r.a.createElement(O,{photoData:e,tags:t.props.tags,updateData:t.props.updateData}))}))),r.a.createElement(f,{currentPage:this.state.currentPage,visibleItems:this.visiblePhoto,generalQuantityItems:this.filteredPhoto.length,selectPage:this.selectPage}))}},{key:"filteredPhoto",get:function(){var t=this,e=this.props.photo.filter(function(e){return e.albumId===+t.props.match.params.id?e:null});return this.state.filteredByTagName&&(e=e.filter(function(e){if(e.tags.length>0)return e.tags.find(function(e){if(e.tag===t.state.filteredByTagName)return e})})),e=e.filter(function(e){if(e.title.toLowerCase().includes(t.state.query.toLowerCase()))return e})}},{key:"visiblePhoto",get:function(){var t=(this.state.currentPage-1)*this.state.quantityItemsOnPage,e=t+this.state.quantityItemsOnPage;return this.filteredPhoto.slice(t,e)}}]),e}(n.Component)),N=a(41),w=a(42),k={getAlbums:function(){return fetch("https://jsonplaceholder.typicode.com/albums").then(function(t){return t.json()}).then(function(t){return t})},getPhoto:function(){return fetch("https://jsonplaceholder.typicode.com/photos").then(function(t){return t.json()}).then(function(t){return t})}},D=(a(36),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={albums:[],photo:[],tags:["Frontend","Backend","Javascript","React"],filteredPhoto:null},a.updateData=function(t){a.setState(function(e){var a=e.photo;return a[t.id-1].tags.push(t),{photo:a}})},a}return Object(g.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=Object(l.a)(c.a.mark(function t(){var e,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getAlbums();case 2:return e=t.sent,t.next=5,k.getPhoto();case 5:(a=t.sent).map(function(t){return t.tags=[]}),this.setState({albums:e,photo:a});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null,r.a.createElement(w.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v,{albums:t.state.albums})}}),r.a.createElement(w.a,{path:"/albums/:id",render:function(e){return r.a.createElement(j,Object.assign({},e,{photo:t.state.photo,tags:t.state.tags,updateData:t.updateData}))}}),r.a.createElement(w.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v,{albums:t.state.albums})}})))}}]),e}(n.Component)),C=a(40);i.a.render(r.a.createElement(C.a,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b16f9543.chunk.js.map